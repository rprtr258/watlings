(function(){"use strict";const a=Object.getPrototypeOf(async function(){}).constructor,f=/^[a-zA-Z_$][\w$]*$/;function i(t){if(t===null)return"null";if(t===void 0)return"undefined";if(typeof t=="string")return`'${t}'`;if(typeof t=="number"||typeof t=="boolean")return String(t);if(Array.isArray(t))return t.length===0?"[]":`[ ${t.map(i).join(", ")} ]`;if(typeof t=="object")try{const r=Object.entries(t);return r.length===0?"{}":`{ ${r.map(([n,c])=>`${f.test(n)?n:`'${n}'`}: ${i(c)}`).join(", ")} }`}catch{return String(t)}return String(t)}function y(t){return typeof t=="string"?t:i(t)}function e(t,r){return(...o)=>{t.push({type:r,text:o.map(y).join(" ")})}}const u=globalThis;u.onmessage=async t=>{const{wasmBytes:r,hostCode:o}=t.data,n=[],c={log:e(n,"log"),warn:e(n,"warn"),error:e(n,"error"),info:e(n,"info")};try{await new a("wasmBytes","WebAssembly","console",o)(r,WebAssembly,c)}catch(s){n.push({type:"error",text:s instanceof Error?s.message:String(s)})}u.postMessage({output:n})}})();
